import{j as e,E as Ee,H as Ce,I as Fe,r as d,J as Ae,K as H,N as Ie,O as Re,W as U,w as Z,Y as Te,Z as Y,_ as q,$ as De,a0 as $e,U as Me,v as _e,k as Oe,a1 as Be,a2 as M,m as J,a3 as X,a4 as Q,a5 as ze,X as Ke,a6 as ee,a7 as se,a8 as Ge,a9 as Le,aa as Ve,ab as We,z as V}from"./vendor-react-BLl6pyI1.js";import{b as W,B as P,H as He,F as Ue}from"./Footer-BtQnbfuQ.js";import{C as I,a as Ze,b as Ye,c as R,e as qe}from"./card-BSXlUX9S.js";import{S as te}from"./separator-zRMcmBNo.js";import{c as u,u as ae}from"./index-BBVf2E5b.js";import{P as h}from"./prices-DWs8klDl.js";import{z as re,D as v,H as E,y as A,I as T,w as O,aa as ne,Z as C,ae as F}from"./vendor-DWr11YkZ.js";import{u as z}from"./use-mobile-tNrRXHOE.js";import{G as Je}from"./GoogleCalendar-v5VRKhvN.js";const B=(t,s,a)=>{if(!t.from||!t.to)return null;const r=Math.max(1,re(t.to,t.from)),l=h.FIRST_NIGHT,i=r-1,x=i>0?i*h.ADDITIONAL_NIGHT:0;let o=0,m=0,f=0;s>0&&(m=h.BREAKFAST.FIRST_PERSON,f=(s-1)*h.BREAKFAST.ADDITIONAL_PERSON,o=m+f);const g=a*h.LAUNDRY_PACKAGE,n=h.CLEANING_FEE,j=l+x+o+g+n;return{priceDetails:{firstNightPrice:l,additionalNightsPrice:x,additionalNightsCount:i,breakfastPrice:o,breakfastFirstPersonPrice:m,breakfastAdditionalPrice:f,laundryPrice:g,cleaningPrice:n},totalPrice:j}},Xe=(t,s,a,r,l,i,x)=>{if(!t.from||!t.to)return"";const o=Math.max(1,re(t.to,t.from));let m=`Sehr geehrter Herr Mertens,

ich möchte gerne folgende Reservierung anfragen:

Anreisedatum: ${t.from.toLocaleDateString("de-DE")}
Abreisedatum: ${t.to.toLocaleDateString("de-DE")}
Anzahl Nächte: ${o}
Anzahl Personen: ${s}`;return a>0&&(m+=`
Wäschepakete: ${a} (${h.LAUNDRY_PACKAGE}€ pro Paket)`),r>0&&(m+=`
Frühstück: ${r} Person(en) (${h.BREAKFAST.FIRST_PERSON}€ für erste Person, ${h.BREAKFAST.ADDITIONAL_PERSON}€ für jede weitere)`),i&&x!==null&&(m+=`

Preisübersicht:
- Erste Nacht: €${i.firstNightPrice.toFixed(2)}`,i.additionalNightsCount>0&&(m+=`
- Weitere Nächte (${i.additionalNightsCount}x): €${i.additionalNightsPrice.toFixed(2)}`),i.breakfastPrice>0&&(m+=`
- Frühstück: €${i.breakfastPrice.toFixed(2)}`),i.laundryPrice>0&&(m+=`
- Wäschepakete (${a}x à ${h.LAUNDRY_PACKAGE}€): €${i.laundryPrice.toFixed(2)}`),m+=`
- Endreinigung: €${i.cleaningPrice.toFixed(2)}
- Gesamtpreis: €${x.toFixed(2)}`),l.message&&(m+=`

Meine Nachricht/Wünsche:
${l.message}`),m+=`

Ich freue mich auf Ihre Rückmeldung.

Mit freundlichen Grüßen,
${l.name||"[Ihr Name]"}

Kontaktdaten:`,l.name&&(m+=`
Name: ${l.name}`),l.email&&(m+=`
E-Mail: ${l.email}`),l.phone&&(m+=`
Telefon: ${l.phone}`),m},Qe=(t,s,a)=>{if(!t||!s)return!1;const r=v(t),l=v(s);return a.some(i=>{const x=v(i.start),o=v(i.end),m=E(r,A(o,-1))&&T(l,x),f=E(l,o)&&T(r,x),g=E(r,x)&&T(l,o),n=O(r,x)&&O(l,A(i.end,-1)),j=O(r,o);return(m||f||g||n)&&!j})},ie=async()=>{try{const t="6gk8bbmgm01bk625432gb33tk0@group.calendar.google.com",s="AIzaSyBiD1VUk3DaVOZ2omR9T4xbr9k8vu4gS1c",a=new Date().toISOString(),r=new Date(Date.now()+90*24*60*60*1e3).toISOString(),l=`https://www.googleapis.com/calendar/v3/calendars/${t}/events?key=${s}&timeMin=${a}&timeMax=${r}&singleEvents=true&orderBy=startTime`,i=await fetch(l);if(!i.ok)throw new Error("Fehler beim Abrufen der Kalenderdaten");return(await i.json()).items.map(o=>({start:new Date(o.start.date||o.start.dateTime),end:new Date(o.end.date||o.end.dateTime),name:o.summary||"Unbekannt"}))}catch(t){return console.error("Error fetching booked periods:",t),[]}};function le({className:t,classNames:s,showOutsideDays:a=!0,...r}){return e.jsx(Ee,{showOutsideDays:a,className:u("p-3 pointer-events-auto",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:u(W({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:u(W({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({...l})=>e.jsx(Ce,{className:"h-4 w-4"}),IconRight:({...l})=>e.jsx(Fe,{className:"h-4 w-4"})},...r})}le.displayName="Calendar";const es=Ie,ss=Re,oe=d.forwardRef(({className:t,align:s="center",sideOffset:a=4,...r},l)=>e.jsx(Ae,{children:e.jsx(H,{ref:l,align:s,sideOffset:a,className:u("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));oe.displayName=H.displayName;const ts=ne("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=d.forwardRef(({className:t,...s},a)=>e.jsx(U,{ref:a,className:u(ts(),t),...s}));p.displayName=U.displayName;const as=ne("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),K=d.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:u(as({variant:s}),t),...a}));K.displayName="Alert";const rs=d.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:u("mb-1 font-medium leading-none tracking-tight",t),...s}));rs.displayName="AlertTitle";const de=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:u("text-sm [&_p]:leading-relaxed",t),...s}));de.displayName="AlertDescription";const ns=({date:t,isDateBooked:s,bookingPeriods:a,onDateChange:r})=>{const l=z(),[i,x]=d.useState(!1);d.useEffect(()=>{localStorage.getItem("openDateSelector")==="true"&&(x(!0),localStorage.removeItem("openDateSelector"))},[]);const o=m=>{const f=v(new Date);return E(m,f)||a.some(g=>{const n=v(A(g.start,0)),j=v(A(g.end,-1)),N=v(m);return T(N,n)&&E(N,j)})};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Anreise- und Abreisedatum"}),e.jsxs(es,{open:i,onOpenChange:x,children:[e.jsx(ss,{asChild:!0,children:e.jsxs(P,{variant:"outline",className:u("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),onClick:()=>x(!0),children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?e.jsxs(e.Fragment,{children:[C(t.from,"PPP",{locale:F})," - ",C(t.to,"PPP",{locale:F})]}):C(t.from,"PPP",{locale:F}):e.jsx("span",{children:"Wählen Sie Ihren Zeitraum"})]})}),e.jsxs(oe,{className:"w-auto p-0",align:"center",side:"bottom",alignOffset:0,sideOffset:8,avoidCollisions:!0,collisionPadding:{top:20,bottom:20},children:[e.jsx(le,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:l?1:2,disabled:o,modifiersClassNames:{selected:s?"bg-red-200 text-red-800":"bg-green-200 text-green-800",today:"font-bold underline"},classNames:{day:"p-2 rounded-full"}}),e.jsx("div",{className:"flex justify-end p-4",children:e.jsx(P,{onClick:()=>x(!1),className:"bg-forest-600 hover:bg-forest-700 text-white",children:"OK"})})]})]}),s&&e.jsxs(K,{variant:"destructive",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx(de,{children:"Leider ist zu diesem Zeitraum die Wohnung schon reserviert."})]})]})},k=d.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:u("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));k.displayName="Input";const D=d.forwardRef(({className:t,...s},a)=>e.jsx(Y,{className:u("grid gap-2",t),...s,ref:a}));D.displayName=Y.displayName;const $=d.forwardRef(({className:t,...s},a)=>e.jsx(q,{ref:a,className:u("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(De,{className:"flex items-center justify-center",children:e.jsx($e,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$.displayName=q.displayName;const is=({guests:t,laundryPackages:s,breakfastCount:a,onGuestsChange:r,onLaundryPackagesChange:l,onBreakfastCountChange:i})=>{const x=z(),o=(n,j=!0)=>{const N=[];j&&N.push(0);for(let S=1;S<=n;S++)N.push(S);return N},m=o(4,!1),f=o(4),g=o(8);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"guests",children:"Anzahl der Personen"}),x?e.jsx(D,{defaultValue:t.toString(),onValueChange:n=>r(parseInt(n)),className:"flex space-x-2",children:m.map(n=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{value:n.toString(),id:`guests-${n}`,className:"peer sr-only"}),e.jsx(p,{htmlFor:`guests-${n}`,className:`flex h-10 w-10 items-center justify-center rounded-full border border-muted bg-background \r
                  peer-data-[state=checked]:bg-forest-100 peer-data-[state=checked]:border-forest-600 hover:bg-muted/10 cursor-pointer`,children:n})]},n))}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{id:"guests",type:"number",min:1,max:4,value:t,onChange:n=>r(parseInt(n.target.value)||1),className:"w-full"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"laundry",children:"Anzahl der Wäschepakete"}),x?e.jsx(D,{defaultValue:s.toString(),onValueChange:n=>l(parseInt(n)),className:"flex space-x-2",children:f.map(n=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{value:n.toString(),id:`laundry-${n}`,className:"peer sr-only"}),e.jsx(p,{htmlFor:`laundry-${n}`,className:`flex h-10 w-10 items-center justify-center rounded-full border border-muted bg-background \r
                  peer-data-[state=checked]:bg-forest-100 peer-data-[state=checked]:border-forest-600 hover:bg-muted/10 cursor-pointer`,children:n})]},n))}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{id:"laundry",type:"number",min:0,max:4,value:s,onChange:n=>l(Math.min(4,Math.max(0,parseInt(n.target.value)||0))),className:"w-full"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ein Wäschepaket kostet €",h.LAUNDRY_PACKAGE," pro Person und enthält Handtücher und Bettwäsche."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"breakfast",children:"Anzahl Frühstück"}),x?e.jsx(D,{defaultValue:a.toString(),onValueChange:n=>i(parseInt(n)),className:"flex flex-wrap gap-2",children:g.map(n=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{value:n.toString(),id:`breakfast-${n}`,className:"peer sr-only"}),e.jsx(p,{htmlFor:`breakfast-${n}`,className:`flex h-10 w-10 items-center justify-center rounded-full border border-muted bg-background \r
                  peer-data-[state=checked]:bg-forest-100 peer-data-[state=checked]:border-forest-600 hover:bg-muted/10 cursor-pointer`,children:n})]},n))}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{id:"breakfast",type:"number",min:0,max:8,value:a,onChange:n=>i(Math.min(8,Math.max(0,parseInt(n.target.value)||0))),className:"w-full"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Wir bieten ein einfaches Frühstück nach Rücksprache an. Das erste Frühstück kostet €",h.BREAKFAST.FIRST_PERSON,", jedes weitere Frühstück kostet €",h.BREAKFAST.ADDITIONAL_PERSON,"."]})]})]})},ce=d.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:u("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));ce.displayName="Textarea";const ls=({contactInfo:t,onContactInfoChange:s})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ihre Kontaktdaten"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Für Ihre Reservierungsanfrage benötigen wir folgende Informationen:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"name",children:"Name *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{id:"name",value:t.name,onChange:a=>s("name",a.target.value),required:!0,className:"w-full",placeholder:"Ihr Name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"E-Mail *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{id:"email",type:"email",value:t.email,onChange:a=>s("email",a.target.value),required:!0,className:"w-full",placeholder:"Ihre E-Mail"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"phone",children:"Telefon"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(k,{id:"phone",type:"tel",value:t.phone,onChange:a=>s("phone",a.target.value),className:"w-full",placeholder:"Ihre Telefonnummer"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"message",children:"Nachricht"}),e.jsx(ce,{id:"message",value:t.message,onChange:a=>s("message",a.target.value),placeholder:"Weitere Wünsche oder Fragen...",className:"min-h-[100px]"})]})]}),os=({totalPrice:t,priceDetails:s,laundryPackages:a,breakfastCount:r})=>e.jsxs("div",{className:"mt-4 p-4 bg-forest-50 rounded-md w-full mb-4",children:[e.jsx("h3",{className:"font-medium text-lg mb-2 font-serif",children:"Preisdetails:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Erste Nacht:"}),e.jsxs("span",{children:["€",s.firstNightPrice.toFixed(2)]})]}),s.additionalNightsCount>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Weitere Nächte (",s.additionalNightsCount,"x):"]}),e.jsxs("span",{children:["€",s.additionalNightsPrice.toFixed(2)]})]}),s.breakfastPrice>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Frühstück:"}),e.jsxs("span",{children:["€",s.breakfastPrice.toFixed(2)]})]}),r>1&&e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pl-4",children:[e.jsxs("span",{children:["(Erstes Frühstück: €",s.breakfastFirstPersonPrice.toFixed(2),",",r>1?` ${r-1} weitere: €${s.breakfastAdditionalPrice.toFixed(2)}`:"",")"]}),e.jsx("span",{})]})]}),s.laundryPrice>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Wäschepakete (",a,"x):"]}),e.jsxs("span",{children:["€",s.laundryPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pl-4",children:[e.jsxs("span",{children:["€",h.LAUNDRY_PACKAGE," pro Paket"]}),e.jsx("span",{})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Endreinigung:"}),e.jsxs("span",{children:["€",s.cleaningPrice.toFixed(2)]})]}),e.jsx(te,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Gesamtpreis:"}),e.jsxs("span",{children:["€",t.toFixed(2)]})]})]})]}),ds=Le,cs=Ge,me=d.forwardRef(({className:t,...s},a)=>e.jsx(X,{ref:a,className:u("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));me.displayName=X.displayName;const xe=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(cs,{children:[e.jsx(me,{}),e.jsxs(Q,{ref:r,className:u("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(ze,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xe.displayName=Q.displayName;const ue=({className:t,...s})=>e.jsx("div",{className:u("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});ue.displayName="DialogHeader";const fe=({className:t,...s})=>e.jsx("div",{className:u("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});fe.displayName="DialogFooter";const he=d.forwardRef(({className:t,...s},a)=>e.jsx(ee,{ref:a,className:u("text-lg font-semibold leading-none tracking-tight",t),...s}));he.displayName=ee.displayName;const ge=d.forwardRef(({className:t,...s},a)=>e.jsx(se,{ref:a,className:u("text-sm text-muted-foreground",t),...s}));ge.displayName=se.displayName;const ms=({showEmailDialog:t,setShowEmailDialog:s,emailTemplate:a,handleEmailOpen:r})=>{const{toast:l}=ae();z();const[i,x]=d.useState(!1),o=()=>{navigator.clipboard.writeText(a),x(!0),l({title:"Kopiert!",description:"Die E-Mail-Vorlage wurde in die Zwischenablage kopiert."}),setTimeout(()=>{x(!1)},2e3)};return e.jsx(ds,{open:t,onOpenChange:s,children:e.jsxs(xe,{className:"sm:max-w-[600px] max-h-[90vh] overflow-auto",children:[e.jsxs(ue,{children:[e.jsx(he,{className:"text-2xl font-serif",children:"Reservierung versenden"}),e.jsx(ge,{children:"Die E-Mail-Vorlage wurde erstellt. Sie können sie jetzt kopieren und an fewo@amertens.me senden."})]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-medium text-lg font-serif",children:"E-Mail-Vorlage:"}),e.jsx(P,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:o,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"h-4 w-4"}),"Kopiert!"]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4"}),"Kopieren"]})})]}),e.jsx("div",{className:"whitespace-pre-wrap bg-white p-3 border rounded-md text-sm font-mono overflow-auto max-h-[250px]",children:a})]}),e.jsx(K,{className:"bg-blue-50",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("p",{className:"font-medium",children:"So verschicken Sie Ihre Reservierungsanfrage:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[e.jsx("li",{children:'Klicken Sie auf "Kopieren" um den Text zu kopieren'}),e.jsx("li",{children:"Öffnen Sie Ihr E-Mail-Programm"}),e.jsxs("li",{children:["Erstellen Sie eine neue E-Mail an: ",e.jsx("span",{className:"font-medium",children:"fewo@amertens.me"})]}),e.jsx("li",{children:"Fügen Sie den kopierten Text ein"}),e.jsx("li",{children:"Senden Sie die E-Mail ab"})]})]})})]}),e.jsxs(fe,{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),className:"sm:order-1 order-2",children:"Schließen"}),e.jsxs(P,{className:"bg-forest-700 hover:bg-forest-800 flex items-center gap-2 sm:order-2 order-1 w-full sm:w-auto",onClick:()=>{o(),r()},children:[e.jsx(M,{className:"h-4 w-4"}),"E-Mail-Programm öffnen"]})]})]})})},xs=()=>{const{toast:t}=ae();d.useState(!1);const[s,a]=d.useState({from:void 0,to:void 0}),[r,l]=d.useState(2),[i,x]=d.useState(0),[o,m]=d.useState(0),[f,g]=d.useState(null),[n,j]=d.useState(null),[N,S]=d.useState(!1),[G,pe]=d.useState([]),[je,Ne]=d.useState(""),[be,L]=d.useState(!1),[y,ve]=d.useState({name:"",email:"",phone:"",message:""});d.useEffect(()=>{ye()},[]),d.useEffect(()=>{if(s!=null&&s.from&&(s!=null&&s.to)&&!N){const c=B(s,o,i);c&&(j(c.priceDetails),g(c.totalPrice),_(s))}},[s,r,i,o,y]);const ye=async()=>{try{const c=await ie();pe(c)}catch{t({title:"Fehler",description:"Die Belegungsdaten konnten nicht geladen werden.",variant:"destructive"})}},we=c=>{if(a(c),c!=null&&c.from&&(c!=null&&c.to)){const b=Qe(c.from,c.to,G);if(S(b),!b){const w=B(c,o,i);w&&(j(w.priceDetails),g(w.totalPrice),_(c))}}},ke=(c,b)=>{ve(w=>({...w,[c]:b}))},_=c=>{if(!c.from||!c.to)return;const b=Xe(c,r,i,o,y,n,f);Ne(b)},Pe=()=>{if(!(s!=null&&s.from)||!(s!=null&&s.to)){t({title:"Fehler",description:"Bitte wählen Sie Start- und Enddatum aus.",variant:"destructive"});return}if(!y.name||!y.email){t({title:"Fehler",description:"Bitte geben Sie Ihren Namen und Ihre E-Mail-Adresse ein.",variant:"destructive"});return}if(f===null){const c=B(s,o,i);c&&(j(c.priceDetails),g(c.totalPrice))}typeof window<"u"&&window.gtag&&window.gtag("event","conversion",{send_to:"AW-17408162748/nOG9CKjlr_waELz37exA"}),_(s),L(!0)},Se=()=>{const c=encodeURIComponent("Reservierungsanfrage"),b=encodeURIComponent(""),w=`mailto:fewo@amertens.me?subject=${c}&body=${b}`;window.location.href=w,t({title:"E-Mail wird geöffnet",description:"Bitte fügen Sie die kopierte Nachricht in Ihre E-Mail ein."})};return e.jsxs(I,{className:"w-full max-w-2xl mx-auto",children:[e.jsx(Ze,{children:e.jsx(Ye,{className:"text-2xl font-serif",children:"Preisrechner & Anfrage"})}),e.jsxs(R,{className:"space-y-6",children:[e.jsx(ns,{date:s,isDateBooked:N,bookingPeriods:G,onDateChange:we}),e.jsx(is,{guests:r,laundryPackages:i,breakfastCount:o,onGuestsChange:l,onLaundryPackagesChange:x,onBreakfastCountChange:m}),e.jsx(te,{className:"my-4"}),e.jsx(ls,{contactInfo:y,onContactInfoChange:ke})]}),e.jsxs(qe,{className:"flex flex-col",children:[f!==null&&n&&e.jsx(os,{totalPrice:f,priceDetails:n,laundryPackages:i,breakfastCount:o}),e.jsx("div",{className:"grid grid-cols-1 gap-4 w-full",children:e.jsxs(P,{onClick:Pe,disabled:!(s!=null&&s.from)||!(s!=null&&s.to)||!y.name||!y.email,className:"w-full bg-forest-700 hover:bg-forest-800 flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Via Email unverbindlich anfragen"]})}),e.jsx(ms,{showEmailDialog:be,setShowEmailDialog:L,emailTemplate:je,handleEmailOpen:Se})]})]})},ys=()=>{const[t,s]=d.useState([]);d.useEffect(()=>{window.scrollTo(0,0),a()},[]);const a=async()=>{try{const r=await ie();s(r)}catch(r){console.error("Error fetching booked periods:",r)}};return e.jsxs(e.Fragment,{children:[e.jsx(He,{}),e.jsxs("main",{className:"pb-16",children:[e.jsx("div",{className:"bg-forest-700 py-16 text-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-serif font-bold mb-4",children:"Preisrechner & Reservierung"}),e.jsx("p",{className:"text-xl max-w-3xl",children:"Berechnen Sie ganz einfach den Preis für Ihren Aufenthalt und senden Sie uns gleich eine Reservierungsanfrage."})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx("div",{children:e.jsx("div",{className:"max-w-xl",children:e.jsx(xs,{})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-serif font-bold text-forest-700 mb-6",children:"Verfügbarkeit anschauen"}),e.jsx("p",{className:"mb-6 text-gray-700",children:"Hier können Sie nachschauen, ob unsere Ferienwohnung für Ihren Wunschtermin verfügbar ist. Die belegten Tage sind im Kalender markiert."}),e.jsx(Je,{}),e.jsxs("div",{className:"mt-8 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-lg mb-4 font-serif flex items-center",children:[e.jsx(Z,{className:"mr-2 h-5 w-5 text-forest-600"}),"Belegte Zeiträume der nächsten 90 Tage (Abends bis Morgens):"]}),t.length>0?e.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:t.map((r,l)=>e.jsxs("li",{children:[C(r.start,"dd.MM.yyyy",{locale:F})," -"," ",C(A(r.end,-1),"dd.MM.yyyy",{locale:F})," ","(",r.name,")"]},l))}):e.jsx("p",{className:"text-sm text-gray-500",children:"Daten werden geladen..."})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-serif font-bold text-forest-700 mb-6",children:"Kontaktdaten"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{children:e.jsx(R,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(J,{className:"h-5 w-5 text-forest-600 mr-4 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"Telefon"}),e.jsx("p",{className:"text-forest-700",children:"+49 1517 4412216"}),e.jsx("p",{className:"text-forest-700",children:"02403 837412"})]})]})})}),e.jsx(I,{children:e.jsx(R,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(M,{className:"h-5 w-5 text-forest-600 mr-4 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"E-Mail"}),e.jsx("p",{className:"text-forest-700",children:"fewo@amertens.me"})]})]})})}),e.jsx(I,{children:e.jsx(R,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(V,{className:"h-5 w-5 text-forest-600 mr-4 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"Adresse"}),e.jsxs("p",{className:"text-forest-700",children:["Heilsteinstr. 39",e.jsx("br",{}),"52152 Simmerath-Einruhr",e.jsx("br",{}),"Deutschland"]}),e.jsxs("a",{href:"https://maps.app.goo.gl/qkxbJidBxtzRt5Vv9",target:"_blank",rel:"noopener noreferrer",className:"text-forest-600 hover:underline inline-flex items-center mt-2",children:["Route in Google Maps anzeigen",e.jsx(V,{className:"h-4 w-4 ml-1"})]})]})]})})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("figure",{children:[e.jsx("img",{src:"https://einruhr.wordpress.com/wp-content/uploads/2022/09/gerumpel.jpg?w=2046",alt:"Wohnzimmer nach Einzug",className:"w-full h-auto rounded-lg shadow-md"}),e.jsx("figcaption",{className:"text-sm text-gray-500 mt-1 italic text-center",children:"Annette und Achim im Wohnzimmer direkt nach Einzug im Januar 2022"})]})})]})]})]})]})})]}),e.jsx(Ue,{})]})};export{ys as default};
